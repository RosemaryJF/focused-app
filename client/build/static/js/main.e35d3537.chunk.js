(this["webpackJsonpfocused-app"]=this["webpackJsonpfocused-app"]||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a,c,s,r=n(0),o=n.n(r),i=n(33),l=n.n(i),j=(n(108),n(109),n(4)),d=n(58),u=n(9),b=n(101),m=n(130),h=n(132),x=n(129),O=n(99),p=n(59),g=n(53),f=n.p+"static/media/icon.12d7f8b2.png",v=n(1),y=function(){return Object(v.jsx)(p.a,{className:"position-absolute top-50 start-50 translate-middle",bg:"custom-color-700-lght",children:Object(v.jsxs)(p.a.Body,{children:[Object(v.jsx)("img",{src:f,alt:"Focused Logo",style:{width:"200px",height:"200px",marginBottom:"10px"}}),Object(v.jsx)(p.a.Title,{children:"FOCUSED"}),Object(v.jsx)(g.a,{href:"/login",variant:"outline-secondary",children:"LOGIN"}),Object(v.jsx)(g.a,{href:"/signup",variant:"outline-secondary",children:"SIGN UP"})]})})},N=n(13),C=n(15),w=n(18),k=n(7),S=n(133),D=n(84),$=n(131),L=Object($.a)(a||(a=Object(D.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),I=(Object($.a)(c||(c=Object(D.a)(["\n  mutation addDay(\n    $user: ID!\n    $dayDate: Day\n    $climb: ID!\n    $focus: String!\n    $attempts: Number!\n    $rests: Number\n    $beta: String!\n    $notes: String!\n  ) {\n    addDay(\n      user: $user\n      # dayDate\n      climb: $climb\n      crag: $crag\n      focus: $focus\n      attempts: $attempts\n      rests: $rests\n      beta: $beta\n      notes: $notes\n    )\n  }\n"]))),Object($.a)(s||(s=Object(D.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])))),P=n(25),T=n(26),W=n(87),B=n.n(W),E=new(function(){function e(){Object(P.a)(this,e)}return Object(T.a)(e,[{key:"getProfile",value:function(){return B()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return B()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),F=n(23),U=n(11),R=n(24);var z=function(e){var t=Object(r.useState)({email:"",password:""}),n=Object(k.a)(t,2),a=n[0],c=n[1],s=Object(S.a)(L),o=Object(k.a)(s,2),i=o[0],l=o[1].error,u=function(){var e=Object(w.a)(Object(C.a)().mark((function e(t){var n,c;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:{email:a.email,password:a.password}});case 4:n=e.sent,c=n.data.login.token,E.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,s=t.value;c(Object(j.a)(Object(j.a)({},a),{},Object(N.a)({},n,s)))};return Object(v.jsxs)("div",{className:"justify-content-evenly text-center",id:"loginForm",children:[Object(v.jsx)("img",{src:f,alt:"Focused Logo",style:{width:"200px",height:"200px",marginBottom:"10px"}}),Object(v.jsx)("h2",{children:"Login"}),Object(v.jsxs)(U.a,{className:"container-sm",onSubmit:u,children:[Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",controlId:"formLoginEmail",children:[Object(v.jsx)(U.a.Label,{column:!0,sm:2,children:"Email address:"}),Object(v.jsx)(F.a,{sm:10,children:Object(v.jsx)(U.a.Control,{type:"email",placeholder:"youremail@gmail.com",name:"email",id:"email",onChange:b})}),Object(v.jsx)(U.a.Text,{className:"text-muted justify-content-start",children:"We'll never share your email with anyone else."})]}),Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",controlId:"formLoginPassword",children:[Object(v.jsx)(U.a.Label,{column:!0,sm:2,children:"Password:"}),Object(v.jsx)(F.a,{sm:10,children:Object(v.jsx)(U.a.Control,{type:"password",placeholder:"********",onChange:b})})]}),l?Object(v.jsx)("div",{children:Object(v.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(v.jsx)(g.a,{variant:"outline-secondary",type:"submit",children:"Login"})]}),"Don't have an account? ",Object(v.jsx)(d.b,{to:"/signup",children:" Signup Here"})]})};var G=function(e){var t=Object(r.useState)({email:"",password:""}),n=Object(k.a)(t,2),a=n[0],c=n[1],s=Object(S.a)(I),o=Object(k.a)(s,1)[0],i=function(){var e=Object(w.a)(Object(C.a)().mark((function e(t){var n,c;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o({variables:{email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName}});case 3:n=e.sent,c=n.data.addUser.token,E.login(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t=e.target,n=t.name,s=t.value;c(Object(j.a)(Object(j.a)({},a),{},Object(N.a)({},n,s)))};return Object(v.jsxs)("div",{className:"justify-content-evenly text-center",id:"signupForm",children:[Object(v.jsx)("img",{src:f,alt:"Focused Logo",style:{width:"200px",height:"200px",marginBottom:"10px"}}),Object(v.jsx)("h2",{children:"Signup"}),Object(v.jsxs)(U.a,{className:"container-sm",onSubmit:i,children:[Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",controlId:"formSignupEmail",children:[Object(v.jsx)(U.a.Label,{column:!0,sm:2,children:"First Name:"}),Object(v.jsx)(F.a,{sm:10,children:Object(v.jsx)(U.a.Control,{placeholder:"First Name",name:"firstName",type:"firstName",id:"firstName",onChange:l})})]}),Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",children:[Object(v.jsx)(U.a.Label,{column:!0,sm:2,children:"Last Name:"}),Object(v.jsx)(F.a,{sm:10,children:Object(v.jsx)(U.a.Control,{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:l})})]}),Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",children:[Object(v.jsx)(U.a.Label,{column:!0,sm:2,children:"Email:"}),Object(v.jsx)(F.a,{sm:10,children:Object(v.jsx)(U.a.Control,{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:l})})]}),Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",children:[Object(v.jsx)(U.a.Label,{column:!0,sm:2,children:"Password:"}),Object(v.jsx)(F.a,{sm:10,children:Object(v.jsx)(U.a.Control,{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:l})})]}),Object(v.jsx)(g.a,{variant:"outline-secondary",type:"submit",children:"Submit"})]}),"Already have an account ? ",Object(v.jsx)(d.b,{to:"/login",children:"Login Here"})]})},A=n(98),_=n(21);var H=function(e){var t=Object(r.useState)(""),n=Object(k.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(k.a)(s,2),i=o[0],l=o[1],j=Object(r.useState)(""),d=Object(k.a)(j,2),u=d[0],b=d[1],m=Object(r.useState)(""),h=Object(k.a)(m,2),x=h[0],O=h[1],p=Object(r.useState)(""),f=Object(k.a)(p,2),y=f[0],N=f[1],C=Object(r.useState)(""),w=Object(k.a)(C,2),S=w[0],D=w[1],$=Object(r.useState)(""),L=Object(k.a)($,2),I=L[0],P=L[1],T=["Onsight","Beta Puzzle","Flash","Red Point","Pink Point","Dogged","Top Rope","Winging It"],W=function(t){t.preventDefault(),u||(u="Winging It"),e.onSubmit({id:Math.random(1e3*Math.floor()),crag:a,climb:i,focus:u,attempts:x,rests:y,beta:S,notes:I}),c(""),l(""),b(""),O(""),N(""),D(""),P("")},B=function(e){c(e.target.value),l(e.target.value),O(e.target.value),N(e.target.value),D(e.target.value),P(e.target.value)};return e.edit?Object(v.jsx)("div",{children:Object(v.jsxs)(U.a,{className:"justify-content-evenly text-center day-form",onSubmit:W,children:[Object(v.jsxs)("h3",{children:["Update day: ",e.edit.value]}),Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",controlId:"formUpdateDay",children:[Object(v.jsx)(U.a.Control,{type:"text",placeholder:e.edit.value,value:a,name:"text",className:"crag-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:e.edit.value,value:i,name:"text",className:"climb-input",onChange:B}),Object(v.jsxs)(U.a.Select,{className:"focus-dropdown","aria-label":"focus choice select",children:[Object(v.jsx)(U.a,{children:"Choose your focus"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[0])},children:"Onsight"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[1])},children:"Beta Puzzle"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[2])},children:"Flash"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[3])},children:"Red Point"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[4])},children:"Pink Point"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[5])},children:"Dogged"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[6])},children:"Top Rope"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[7])},children:"Winging It"})]}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:e.edit.value,value:x,name:"text",className:"attempts-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:e.edit.value,value:y,name:"text",className:"rest-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:e.edit.value,value:S,name:"text",className:"beta-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:e.edit.value,name:"text",className:"notes-input",onChange:B}),Object(v.jsx)(g.a,{className:"day-button",variant:"outline-secondary",type:"submit",children:"Update day"})]})]})}):Object(v.jsx)("div",{children:Object(v.jsx)(U.a,{className:"justify-content-evenly text-center day-form",onSubmit:W,children:Object(v.jsxs)(U.a.Group,{as:R.a,className:"mb-3",controlId:"formAddDay",children:[Object(v.jsx)(U.a.Control,{type:"text",placeholder:"Choose your crag",value:a,name:"text",className:"crag-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:"Choose the climb",value:i,name:"text",className:"climb-input",onChange:B}),Object(v.jsxs)(U.a.Select,{className:"focus-dropdown","aria-label":"focus choice select",children:[Object(v.jsx)(U.a,{children:"Choose your focus"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[0])},children:"Onsight"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[1])},children:"Beta Puzzle"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[2])},children:"Flash"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[3])},children:"Red Point"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[4])},children:"Pink Point"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[5])},children:"Dogged"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[6])},children:"Top Rope"}),Object(v.jsx)(U.a,{onClick:function(){return b(T[7])},children:"Winging It"})]}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:"How many attempts did you have?",value:x,name:"text",className:"attempts-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:"How many (if any) rests did you take between attempts?",value:y,name:"text",className:"rest-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:"What was your beta?",value:S,name:"text",className:"beta-input",onChange:B}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:"Add any notes you want to jot down here",value:I,name:"text",className:"notes-input",onChange:B}),Object(v.jsx)(g.a,{className:"day-button",variant:"outline-secondary",type:"submit",children:"Add day"})]})})})};var M=function(e){var t=Object(r.useState)({id:null,crag:"",climb:"",focus:"",attempts:"",rests:"",beta:"",notes:""}),n=Object(k.a)(t,2),a=n[0],c=n[1];return console.log(e.day),a.id?Object(v.jsx)(H,{edit:a,onSubmit:function(t){e.editDayItem(a.id,t),c({id:null,crag:"",climb:"",focus:"",attempts:"",rests:"",beta:"",notes:""})}}):e.day.map((function(t,n){return Object(v.jsxs)("div",{className:t.isComplete?"day-row complete ".concat(t.focus):"day-row ".concat(t.fpcus),children:[Object(v.jsx)("div",{onClick:function(){return e.completeDay(t.id)},children:t.text},t.id),Object(v.jsxs)("div",{className:"icons",children:[console.log(t),Object(v.jsx)("p",{onClick:function(){return c({id:t.id,climb:t.climb.name,focus:t.focus})},children:" \u270f\ufe0f"}),Object(v.jsx)("p",{onClick:function(){return e.deleteDay(t.id)},children:" \ud83d\uddd1\ufe0f"})]})]},n)}))};var J=function(){var e=Object(r.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"What days have you got?"}),Object(v.jsx)(H,{onSubmit:function(e){if(console.log(e),e.climb){var t=[e].concat(Object(_.a)(n));console.log(t),a(t)}}}),Object(v.jsx)(M,{days:n,completeDay:function(e){var t=n.map((function(t){return t.id===e&&(t.isComplete=!t.isComplete),t}));console.log(t),a(t)},deleteDay:function(e){var t=Object(_.a)(n).filter((function(e){return e.id!==e}));a(t)},editDay:function(e,t){t.text&&a((function(n){return n.map((function(n){return n.id===e?t:n}))}))}})]})},q=n(67),K=n(43);var Q=function(){return E.loggedIn()?Object(v.jsxs)(K.a,{className:"navbar-transparent",sticky:"top",expand:"lg",children:[Object(v.jsx)(K.a.Brand,{href:"/",children:"FOCUSED"}),Object(v.jsx)(K.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(K.a.Collapse,{id:"basic-navbar-nav"}),Object(v.jsx)(q.a.Link,{href:"/days",children:"Days"}),Object(v.jsx)(q.a.Link,{href:"/",onClick:function(){return E.logout()},children:"Logout"})]}):Object(v.jsxs)(K.a,{className:"navbar-transparent",sticky:"top",expand:"lg",children:[Object(v.jsx)(K.a.Brand,{href:"/",children:"FOCUSED"}),Object(v.jsx)(K.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(K.a.Collapse,{id:"basic-navbar-nav"}),Object(v.jsx)(q.a.Link,{href:"/signup",children:"Signup"}),Object(v.jsx)(q.a.Link,{href:"/login",variant:"outline-secondary",children:"Login"})]})},V=function(){return Object(v.jsxs)("div",{className:"vh-100",style:{backgroundColor:"#f4f5f7"},children:[Object(v.jsx)(Q,{}),Object(v.jsx)(A.a,{className:"py-5 h-100",children:Object(v.jsx)(R.a,{className:"justify-content-center align-items-center h-100",children:Object(v.jsx)(F.a,{lg:"6",className:"mb-4 mb-lg-0",children:Object(v.jsx)(p.a,{className:"mb-3",style:{borderRadius:".5rem"},children:Object(v.jsxs)(R.a,{className:"g-0",children:[Object(v.jsxs)(F.a,{md:"4",className:"gradient-custom text-center text-white",style:{borderTopLeftRadius:".5rem",borderBottomLeftRadius:".5rem"},children:[Object(v.jsx)("h3",{id:"userName",children:"Marie Horwitz"}),Object(v.jsx)(p.a.Text,{children:"Web Designer"})]}),Object(v.jsx)(F.a,{md:"8",children:Object(v.jsxs)(p.a.Body,{className:"p-4",children:[Object(v.jsx)("h6",{children:"Days"}),Object(v.jsx)(R.a,{className:"pt-1 days-list",children:Object(v.jsx)(J,{})}),Object(v.jsx)("h6",{children:"Information"}),Object(v.jsx)("hr",{className:"mt-0 mb-4"}),Object(v.jsxs)(R.a,{className:"pt-1",children:[Object(v.jsxs)(F.a,{size:"6",className:"mb-3",children:[Object(v.jsx)("h6",{children:"Email"}),Object(v.jsx)(p.a.Text,{className:"text-muted",children:"info@example.com"})]}),Object(v.jsxs)(F.a,{size:"6",className:"mb-3",children:[Object(v.jsx)("h6",{children:"Phone"}),Object(v.jsx)(p.a.Text,{className:"text-muted",children:"123 456 789"})]})]})]})})]})})})})})]})},X=Object(b.a)({uri:"/graphql"}),Y=Object(O.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(j.a)(Object(j.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),Z=new m.a({link:Y.concat(X),cache:new h.a});var ee=function(){return Object(v.jsx)(x.a,{client:Z,children:Object(v.jsx)(d.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(u.c,{children:[Object(v.jsx)(u.a,{path:"/",element:Object(v.jsx)(y,{})}),Object(v.jsx)(u.a,{path:"/login",element:Object(v.jsx)(z,{})}),Object(v.jsx)(u.a,{path:"/signup",element:Object(v.jsx)(G,{})}),Object(v.jsx)(u.a,{path:"/profile",element:Object(v.jsx)(V,{})})]})})})})},te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(ee,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ne(t,e)}))}}()}},[[118,1,2]]]);
//# sourceMappingURL=main.e35d3537.chunk.js.map